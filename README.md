# ğŸ›« Telegram-Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ°Ğ²Ğ¸Ğ°Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ² Ğ¸ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹ Ğ² Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°Ñ…

## ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

Ğ¦ĞµĞ»ÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ±Ğ¾Ñ‚Ğ° â€” Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ¸ ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ´ĞµÑˆÑ‘Ğ²Ñ‹Ğµ Ğ°Ğ²Ğ¸Ğ°Ğ±Ğ¸Ğ»ĞµÑ‚Ñ‹ Ğ¸Ğ· Ğ Ğ¾ÑÑĞ¸Ğ¸ Ğ² Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ñ‚ÑƒÑ€Ğ¸ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ. Ğ‘Ğ¾Ñ‚ Ñ€ĞµÑˆĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ Ğ½ĞµÑƒĞ´Ğ¾Ğ±Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¸ÑĞºĞ°: Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ ÑĞ°Ğ¹Ñ‚Ğ°, Ğ²Ğ²Ğ¾Ğ´Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ Ğ¾Ğ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ñ â€” Ğ²ÑÑ‘ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¾ĞºĞ½Ğµ Telegram.

Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»:
- ĞŸĞ¾Ğ¸ÑĞº Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ² Ñ‚ÑƒĞ´Ğ° Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾
- Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² Ğ¿Ğ¾ Ñ†ĞµĞ½Ğµ (Ğ´ĞµÑˆĞµĞ²Ğ»Ğµ/Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ğµ)
- ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹ Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°Ñ… Ğ²Ñ‹Ğ»ĞµÑ‚Ğ° Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ñ‘Ñ‚Ğ°
- Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° (ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ² SQLite)
- ĞŸĞ¾ĞºĞ°Ğ· Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹ Ğ² Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ğ¾Ğ¼ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ

Ğ‘Ğ¾Ñ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ API [Aviasales](https://travelpayouts.com/) Ğ¸ [OpenWeatherMap](https://openweathermap.org/api).

## ### ĞšĞ°Ğº Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ

### ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:

#### **/start** â€” Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼  
ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼Ğ¸.

#### **/help** â€” Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑĞ¿Ñ€Ğ°Ğ²ĞºÑƒ  
Ğ’Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ÑƒÑ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.

#### **ĞŸĞ¾Ğ¸ÑĞº Ğ°Ğ²Ğ¸Ğ°Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²:** (Ñ‡ĞµÑ€ĞµĞ· ĞºĞ½Ğ¾Ğ¿ĞºÑƒ)  
Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³:
1. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´ Ğ²Ñ‹Ğ»ĞµÑ‚Ğ° (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `ĞœĞ¾ÑĞºĞ²Ğ°` Ğ¸Ğ»Ğ¸ `MOW`)
2. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´ Ğ¿Ñ€Ğ¸Ğ»Ñ‘Ñ‚Ğ° (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `Ğ¡Ñ‚Ğ°Ğ¼Ğ±ÑƒĞ»` Ğ¸Ğ»Ğ¸ `IST`)
3. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´Ğ°Ñ‚Ñƒ Ğ²Ñ‹Ğ»ĞµÑ‚Ğ° (`Ğ“Ğ“Ğ“Ğ“-ĞœĞœ-Ğ”Ğ”`, Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ `2026-03-08`)
4. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´Ğ°Ñ‚Ñƒ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° Ğ¸Ğ»Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ `-`, ĞµÑĞ»Ğ¸ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ‚ÑƒĞ´Ğ°

ĞŸĞ¾ÑĞ»Ğµ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ±Ğ¾Ñ‚:
- ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ¿-3 ÑĞ°Ğ¼Ñ‹Ñ… Ğ´ĞµÑˆÑ‘Ğ²Ñ‹Ñ… Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²
- ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñƒ Ğ² Ğ¾Ğ±Ğ¾Ğ¸Ñ… Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°Ñ…
- ĞŸÑ€ĞµĞ´Ğ»Ğ°Ğ³Ğ°ĞµÑ‚ Ğ¾Ñ‚ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹

#### **ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹ Ğ² Ğ»ÑĞ±Ğ¾Ğ¼ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ:** (Ñ‡ĞµÑ€ĞµĞ· ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ°")
1. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ **"ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ°"** Ğ² Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¼ Ğ¼ĞµĞ½Ñ
2. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ° (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `ĞœĞ¾ÑĞºĞ²Ğ°`, `Tokyo`, `New York`)
3. Ğ‘Ğ¾Ñ‚ Ğ¿Ğ¾ĞºĞ°Ğ¶ĞµÑ‚ Ñ‚ĞµĞºÑƒÑ‰ÑƒÑ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñƒ Ğ¸ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñƒ

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:
> ğŸŒ¤ ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ° Ğ² ĞœĞ¾ÑĞºĞ²Ğµ: ğŸŒ¡ 15Â°C, ĞĞ±Ğ»Ğ°Ñ‡Ğ½Ğ¾

### API-ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹

#### **/search** â€” Ğ¿Ğ¾Ğ¸ÑĞº Ğ°Ğ²Ğ¸Ğ°Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²  
(Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½ Ñ‡ĞµÑ€ĞµĞ· ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "ĞŸĞ¾Ğ¸ÑĞº Ğ°Ğ²Ğ¸Ğ°Ğ±Ğ¸Ğ»ĞµÑ‚Ğ¾Ğ²")

**Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº Aviasales API (GET):**

bash curl "https://api.travelpayouts.com/aviasales/v3/prices_for_dates"
--get
--data-urlencode "origin=MOW"
--data-urlencode "destination=IST"
--data-urlencode "departure_at=2026-03-08"
--data-urlencode "return_at=2026-03-15"
--data-urlencode "one_way=false"
--data-urlencode "token=YOUR_TOKEN"
--data-urlencode "currency=RUB"
--data-urlencode "limit=10"
--data-urlencode "sorting=price"

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°:**

json { "data": [ { "price": 17665, 
                    "airline": "S7", 
                    "departure_at": "2026-03-08T08:45:00+03:00", 
                    "return_at": "2026-03-15T20:30:00+03:00", 
                    "transfers": 1, 
                    "link": "/search/MOW0803IST15031?t=VF..." } ], "success": true }


> Ğ‘Ğ¾Ñ‚ Ğ±ĞµÑ€Ñ‘Ñ‚ Ğ¿Ğ¾Ğ»Ğµ `link` Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµÑ‚ ÑÑÑ‹Ğ»ĞºÑƒ: `https://www.aviasales.ru{link}`

---

#### **Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²**  
(ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ "ğŸ“‰ Ğ”ĞµÑˆĞµĞ²Ğ»Ğµ" / "ğŸ“ˆ Ğ”Ğ¾Ñ€Ğ¾Ğ¶Ğµ")

ĞŸĞ¾ÑĞ»Ğµ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ±Ğ¾Ñ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ² `callback_data` Ğ¸ Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ğ¸:
- ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµÑ‚ Ñ‚Ğµ Ğ¶Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
- Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ¾ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚Ğ°Ğ½Ğ¸Ñ Ğ¸Ğ»Ğ¸ ÑƒĞ±Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Ñ†ĞµĞ½Ñ‹

**Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°:**  

python sorted(flights, key=lambda x: x['price'], reverse=False) # Ğ´ĞµÑˆĞµĞ²Ğ»Ğµ 
       sorted(flights, key=lambda x: x['price'], reverse=True) # Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ğµ

#### **ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹**  
(Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸Ğ»Ğ¸ Ñ‡ĞµÑ€ĞµĞ· ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ°")

**1. ĞŸĞ¾Ğ¸ÑĞº ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°:**  

bash curl "https://api.openweathermap.org/geo/1.0/direct?q=ĞœĞ¾ÑĞºĞ²Ğ°&limit=1&appid=YOUR_KEY

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°:**

json [ { "name": "Moscow", "lat": 55.7558, "lon": 37.6173, "country": "RU" } ]

**2. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹:**  

bash curl "https://api.openweathermap.org/data/2.5/weather?lat=55.7558&lon=37.6173&appid=YOUR_KEY&units=metric&lang=ru"

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°:**

json { "main": { "temp": -10.2, "feels_like": -15.1 }, "weather": [ { "description": "Ğ½ĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ ÑĞ½ĞµĞ³", "icon": "13d" } ] }

> Ğ‘Ğ¾Ñ‚ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚: `ğŸŒ¡ -10Â°C, ĞĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ ÑĞ½ĞµĞ³`

### ĞšĞ°Ğº Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ

#### 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹:

bash git clone https://github.com/yourusername/flight-bot.git cd flight-bot

#### 2. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸:

bash pip install -r requirements.txt

#### 3. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ `.env` Ñ„Ğ°Ğ¹Ğ»:

env BOT_TOKEN=your_telegram_bot_token 
    TRAVEL_TOKEN=your_travelpayouts_token 
    WEATHER_KEY=your_openweathermap_key

#### 4. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ±Ğ¾Ñ‚Ğ°:

bash python main.py


#### Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
- Python 3.9+
- Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸: `python-telegram-bot`, `requests`, `python-dotenv`, `peewee`
- Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ñƒ

#### Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:

flight-bot/ â”œâ”€â”€ api/ â”‚
                â”œâ”€â”€ init.py â”‚ 
            â”œâ”€â”€ config_data/ â”‚
                â”œâ”€â”€ config.py â”‚ 
                â””â”€â”€ init.py 
            â”œâ”€â”€ database/ â”‚ 
                â”œâ”€â”€ db.py â”‚ 
                â”œâ”€â”€ models.py â”‚
                â”œâ”€â”€ history.db â”‚ 
                â””â”€â”€ queries.py â”‚ 
                â””â”€â”€ init.py 
            â”œâ”€â”€ keyboards/ |
                â”œâ”€â”€ replly.py â”‚
                â””â”€â”€ init.py 
            â”œâ”€â”€ logs/ |
            â”œâ”€â”€ states/ |
            â”œâ”€â”€ utils/ â”‚ 
                â””â”€â”€ api.py |
            â”œâ”€â”€ main.py 
            â”œâ”€â”€ loader.py 
            â”œâ”€â”€ .env
            â”œâ”€â”€ .env.template
            â”œâ”€â”€ README.md
            â””â”€â”€ requirements.txt
